==================== Test output for //:multipaxos_test:
Running main() from gmock_main.cc
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from MultiPaxosTest
[ RUN      ] MultiPaxosTest.Constructor
==================
WARNING: ThreadSanitizer: data race (pid=12)
  Atomic write of size 4 at 0x7f05b7ccc340 by main thread (mutexes: write M0):
    #0 absl::lts_20211102::synchronization_internal::Waiter::Post() <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xd66d) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #1 AbslInternalPerThreadSemPost_lts_20211102 <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xbf8d) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #2 absl::lts_20211102::synchronization_internal::PerThreadSem::Post(absl::lts_20211102::base_internal::ThreadIdentity*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x311f5) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #3 absl::lts_20211102::Mutex::IncrementSynchSem(absl::lts_20211102::Mutex*, absl::lts_20211102::base_internal::PerThreadSynch*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xdf29) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #4 absl::lts_20211102::Mutex::Wakeup(absl::lts_20211102::base_internal::PerThreadSynch*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x10eb1) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #5 absl::lts_20211102::Mutex::UnlockSlow(absl::lts_20211102::SynchWaitParams*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x1a351) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #6 absl::lts_20211102::Mutex::Unlock() <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x23ae7) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #7 gpr_mu_unlock <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x279ba) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #8 grpc_core::(anonymous namespace)::ThreadInternalsPosix::Start() thd_posix.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x41812) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #9 grpc_core::Thread::Start() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Ubase.so+0x185f52) (BuildId: cf0adb253b489ea28fe6a10ed2e4f694f89ce694)
    #10 grpc_core::Executor::SetThreading(bool) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x8433) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #11 grpc_core::Executor::Init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x7eda) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #12 grpc_core::Executor::InitAll() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x9f0b) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #13 grpc_iomgr_init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc_Ubase.so+0x2dc7c4) (BuildId: 04a88a227ff57628cc3af291c637db0f1ccef13a)
    #14 grpc_init <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc.so+0x6df2) (BuildId: 251fa19f5440fe83014aacd61e62729a3f6fab3b)
    #15 grpc::internal::GrpcLibrary::init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x3e251) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #16 grpc::GrpcLibraryCodegen::GrpcLibraryCodegen(bool) <null> (liblibmultipaxosrpc.so+0x39cde) (BuildId: 9657d1d16e745b0a8aefe12648c9f261991d6f7d)
    #17 grpc::ServerCredentials::ServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Ubase.so+0x1fc48e) (BuildId: cf0adb253b489ea28fe6a10ed2e4f694f89ce694)
    #18 grpc::(anonymous namespace)::InsecureServerCredentialsImpl::InsecureServerCredentialsImpl() insecure_server_credentials.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53aa9) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #19 grpc::InsecureServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53a03) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #20 MultiPaxos::MultiPaxos(Log*, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > > const&) <null> (multipaxos_test+0xe4feb) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #21 MultiPaxosTest_Constructor_Test::TestBody() <null> (multipaxos_test+0xead18) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #22 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x155a17) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #23 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x13101d) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #24 testing::Test::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x1082a8) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #25 testing::TestInfo::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x109372) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #26 testing::TestSuite::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x10a037) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #27 testing::internal::UnitTestImpl::RunAllTests() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122fd2) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #28 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x15afa7) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #29 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x134e33) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #30 testing::UnitTest::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122810) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #31 RUN_ALL_TESTS() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd77) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)
    #32 main <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd14) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)

  Previous write of size 8 at 0x7f05b7ccc340 by thread T1:
    #0 mmap <null> (multipaxos_test+0x95843) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #1 absl::lts_20211102::base_internal::DoAllocWithArena(unsigned long, absl::lts_20211102::base_internal::LowLevelAlloc::Arena*) low_level_alloc.cc (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Sbase_Slibmalloc_Uinternal.so+0x39dd) (BuildId: 5d7dbdb744943802ba34311376b3c9d808aec4bc)
    #2 absl::lts_20211102::base_internal::LowLevelAlloc::Alloc(unsigned long) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Sbase_Slibmalloc_Uinternal.so+0x73ad) (BuildId: 5d7dbdb744943802ba34311376b3c9d808aec4bc)
    #3 absl::lts_20211102::synchronization_internal::NewThreadIdentity() create_thread_identity.cc (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xa57d) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #4 absl::lts_20211102::synchronization_internal::CreateThreadIdentity() <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xa465) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #5 absl::lts_20211102::synchronization_internal::GetOrCreateCurrentThreadIdentity() <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xc5b6) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #6 absl::lts_20211102::Synch_GetPerThread() mutex.cc (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xe0a5) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #7 absl::lts_20211102::Synch_GetPerThreadAnnotated(absl::lts_20211102::Mutex*) mutex.cc (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x15941) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #8 absl::lts_20211102::CondVar::WaitCommon(absl::lts_20211102::Mutex*, absl::lts_20211102::synchronization_internal::KernelTimeout) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x2975f) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #9 absl::lts_20211102::CondVar::Wait(absl::lts_20211102::Mutex*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x29c4f) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #10 gpr_cv_wait <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x27b9f) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #11 grpc_core::Executor::ThreadMain(void*) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x90a5) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #12 grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&)::'lambda'(void*)::operator()(void*) const thd_posix.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x41b00) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #13 grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&)::'lambda'(void*)::__invoke(void*) thd_posix.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x41935) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)

  Mutex M0 (0x7b0400000630) created at:
    #0 __tsan_mutex_create <null> (multipaxos_test+0xb02b6) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #1 absl::lts_20211102::Mutex::Mutex() <null> (liblibmultipaxosrpc.so+0x39d5b) (BuildId: 9657d1d16e745b0a8aefe12648c9f261991d6f7d)
    #2 do_basic_init() init.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc.so+0x6f8d) (BuildId: 251fa19f5440fe83014aacd61e62729a3f6fab3b)
    #3 decltype(std::declval<void (*&)()>()()) absl::lts_20211102::base_internal::Callable::Invoke<void (*&)()>(void (*&)()) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x2919a) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #4 decltype(Invoker<void (*&)()>::type::Invoke(std::declval<void (*&)()>())) absl::lts_20211102::base_internal::invoke<void (*&)()>(void (*&)()) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x28f6d) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #5 void absl::lts_20211102::base_internal::CallOnceImpl<void (*&)()>(std::atomic<unsigned int>*, absl::lts_20211102::base_internal::SchedulingMode, void (*&)()) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x28cbf) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #6 void absl::lts_20211102::call_once<void (*&)()>(absl::lts_20211102::once_flag&, void (*&)()) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x27fd5) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #7 gpr_once_init <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x27de2) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #8 grpc_init <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc.so+0x6d03) (BuildId: 251fa19f5440fe83014aacd61e62729a3f6fab3b)
    #9 grpc::internal::GrpcLibrary::init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x3e251) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #10 grpc::GrpcLibraryCodegen::GrpcLibraryCodegen(bool) <null> (liblibmultipaxosrpc.so+0x39cde) (BuildId: 9657d1d16e745b0a8aefe12648c9f261991d6f7d)
    #11 grpc::ServerCredentials::ServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Ubase.so+0x1fc48e) (BuildId: cf0adb253b489ea28fe6a10ed2e4f694f89ce694)
    #12 grpc::(anonymous namespace)::InsecureServerCredentialsImpl::InsecureServerCredentialsImpl() insecure_server_credentials.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53aa9) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #13 grpc::InsecureServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53a03) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #14 MultiPaxos::MultiPaxos(Log*, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > > const&) <null> (multipaxos_test+0xe4feb) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #15 MultiPaxosTest_Constructor_Test::TestBody() <null> (multipaxos_test+0xead18) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #16 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x155a17) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #17 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x13101d) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #18 testing::Test::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x1082a8) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #19 testing::TestInfo::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x109372) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #20 testing::TestSuite::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x10a037) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #21 testing::internal::UnitTestImpl::RunAllTests() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122fd2) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #22 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x15afa7) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #23 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x134e33) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #24 testing::UnitTest::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122810) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #25 RUN_ALL_TESTS() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd77) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)
    #26 main <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd14) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)

  Thread T1 'default-executo' (tid=19, running) created by main thread at:
    #0 pthread_create <null> (multipaxos_test+0x6609d) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #1 grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&) thd_posix.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x414e4) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #2 grpc_core::Thread::Thread(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x40e12) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #3 grpc_core::Executor::SetThreading(bool) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x83cc) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #4 grpc_core::Executor::Init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x7eda) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #5 grpc_core::Executor::InitAll() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x9eee) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #6 grpc_iomgr_init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc_Ubase.so+0x2dc7c4) (BuildId: 04a88a227ff57628cc3af291c637db0f1ccef13a)
    #7 grpc_init <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc.so+0x6df2) (BuildId: 251fa19f5440fe83014aacd61e62729a3f6fab3b)
    #8 grpc::internal::GrpcLibrary::init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x3e251) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #9 grpc::GrpcLibraryCodegen::GrpcLibraryCodegen(bool) <null> (liblibmultipaxosrpc.so+0x39cde) (BuildId: 9657d1d16e745b0a8aefe12648c9f261991d6f7d)
    #10 grpc::ServerCredentials::ServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Ubase.so+0x1fc48e) (BuildId: cf0adb253b489ea28fe6a10ed2e4f694f89ce694)
    #11 grpc::(anonymous namespace)::InsecureServerCredentialsImpl::InsecureServerCredentialsImpl() insecure_server_credentials.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53aa9) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #12 grpc::InsecureServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53a03) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #13 MultiPaxos::MultiPaxos(Log*, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > > const&) <null> (multipaxos_test+0xe4feb) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #14 MultiPaxosTest_Constructor_Test::TestBody() <null> (multipaxos_test+0xead18) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #15 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x155a17) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #16 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x13101d) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #17 testing::Test::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x1082a8) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #18 testing::TestInfo::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x109372) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #19 testing::TestSuite::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x10a037) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #20 testing::internal::UnitTestImpl::RunAllTests() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122fd2) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #21 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x15afa7) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #22 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x134e33) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #23 testing::UnitTest::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122810) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #24 RUN_ALL_TESTS() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd77) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)
    #25 main <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd14) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)

SUMMARY: ThreadSanitizer: data race (/home/vjabrayilov/.cache/bazel/_bazel_vjabrayilov/047988c64441a43d472831d68a73bd53/execroot/__main__/bazel-out/k8-fastbuild/bin/_solib_k8/libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xd66d) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b) in absl::lts_20211102::synchronization_internal::Waiter::Post()
==================
==================
WARNING: ThreadSanitizer: data race (pid=12)
  Atomic write of size 4 at 0x7f05b7ccc540 by main thread (mutexes: write M0):
    #0 absl::lts_20211102::synchronization_internal::Waiter::Post() <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xd66d) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #1 AbslInternalPerThreadSemPost_lts_20211102 <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xbf8d) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #2 absl::lts_20211102::synchronization_internal::PerThreadSem::Post(absl::lts_20211102::base_internal::ThreadIdentity*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x311f5) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #3 absl::lts_20211102::Mutex::IncrementSynchSem(absl::lts_20211102::Mutex*, absl::lts_20211102::base_internal::PerThreadSynch*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xdf29) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #4 absl::lts_20211102::Mutex::Wakeup(absl::lts_20211102::base_internal::PerThreadSynch*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x10eb1) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #5 absl::lts_20211102::Mutex::UnlockSlow(absl::lts_20211102::SynchWaitParams*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x1a351) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #6 absl::lts_20211102::Mutex::Unlock() <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x23ae7) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #7 gpr_mu_unlock <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x279ba) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #8 grpc_core::(anonymous namespace)::ThreadInternalsPosix::Start() thd_posix.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x41812) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #9 grpc_core::Thread::Start() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Ubase.so+0x185f52) (BuildId: cf0adb253b489ea28fe6a10ed2e4f694f89ce694)
    #10 start_timer_thread_and_unlock() timer_manager.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc_Ubase.so+0x30a257) (BuildId: 04a88a227ff57628cc3af291c637db0f1ccef13a)
    #11 start_threads() timer_manager.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc_Ubase.so+0x309c82) (BuildId: 04a88a227ff57628cc3af291c637db0f1ccef13a)
    #12 grpc_timer_manager_init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc_Ubase.so+0x309c0c) (BuildId: 04a88a227ff57628cc3af291c637db0f1ccef13a)
    #13 grpc_iomgr_start() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc_Ubase.so+0x2dc8c5) (BuildId: 04a88a227ff57628cc3af291c637db0f1ccef13a)
    #14 grpc_init <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc.so+0x6eab) (BuildId: 251fa19f5440fe83014aacd61e62729a3f6fab3b)
    #15 grpc::internal::GrpcLibrary::init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x3e251) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #16 grpc::GrpcLibraryCodegen::GrpcLibraryCodegen(bool) <null> (liblibmultipaxosrpc.so+0x39cde) (BuildId: 9657d1d16e745b0a8aefe12648c9f261991d6f7d)
    #17 grpc::ServerCredentials::ServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Ubase.so+0x1fc48e) (BuildId: cf0adb253b489ea28fe6a10ed2e4f694f89ce694)
    #18 grpc::(anonymous namespace)::InsecureServerCredentialsImpl::InsecureServerCredentialsImpl() insecure_server_credentials.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53aa9) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #19 grpc::InsecureServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53a03) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #20 MultiPaxos::MultiPaxos(Log*, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > > const&) <null> (multipaxos_test+0xe4feb) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #21 MultiPaxosTest_Constructor_Test::TestBody() <null> (multipaxos_test+0xead18) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #22 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x155a17) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #23 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x13101d) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #24 testing::Test::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x1082a8) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #25 testing::TestInfo::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x109372) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #26 testing::TestSuite::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x10a037) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #27 testing::internal::UnitTestImpl::RunAllTests() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122fd2) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #28 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x15afa7) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #29 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x134e33) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #30 testing::UnitTest::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122810) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #31 RUN_ALL_TESTS() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd77) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)
    #32 main <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd14) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)

  Previous write of size 8 at 0x7f05b7ccc540 by thread T1:
    #0 mmap <null> (multipaxos_test+0x95843) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #1 absl::lts_20211102::base_internal::DoAllocWithArena(unsigned long, absl::lts_20211102::base_internal::LowLevelAlloc::Arena*) low_level_alloc.cc (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Sbase_Slibmalloc_Uinternal.so+0x39dd) (BuildId: 5d7dbdb744943802ba34311376b3c9d808aec4bc)
    #2 absl::lts_20211102::base_internal::LowLevelAlloc::Alloc(unsigned long) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Sbase_Slibmalloc_Uinternal.so+0x73ad) (BuildId: 5d7dbdb744943802ba34311376b3c9d808aec4bc)
    #3 absl::lts_20211102::synchronization_internal::NewThreadIdentity() create_thread_identity.cc (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xa57d) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #4 absl::lts_20211102::synchronization_internal::CreateThreadIdentity() <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xa465) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #5 absl::lts_20211102::synchronization_internal::GetOrCreateCurrentThreadIdentity() <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xc5b6) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #6 absl::lts_20211102::Synch_GetPerThread() mutex.cc (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xe0a5) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #7 absl::lts_20211102::Synch_GetPerThreadAnnotated(absl::lts_20211102::Mutex*) mutex.cc (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x15941) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #8 absl::lts_20211102::CondVar::WaitCommon(absl::lts_20211102::Mutex*, absl::lts_20211102::synchronization_internal::KernelTimeout) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x2975f) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #9 absl::lts_20211102::CondVar::Wait(absl::lts_20211102::Mutex*) <null> (libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0x29c4f) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b)
    #10 gpr_cv_wait <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x27b9f) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #11 grpc_core::Executor::ThreadMain(void*) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x90a5) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #12 grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&)::'lambda'(void*)::operator()(void*) const thd_posix.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x41b00) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #13 grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&)::'lambda'(void*)::__invoke(void*) thd_posix.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x41935) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)

  Mutex M0 (0x7b0400000630) created at:
    #0 __tsan_mutex_create <null> (multipaxos_test+0xb02b6) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #1 absl::lts_20211102::Mutex::Mutex() <null> (liblibmultipaxosrpc.so+0x39d5b) (BuildId: 9657d1d16e745b0a8aefe12648c9f261991d6f7d)
    #2 do_basic_init() init.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc.so+0x6f8d) (BuildId: 251fa19f5440fe83014aacd61e62729a3f6fab3b)
    #3 decltype(std::declval<void (*&)()>()()) absl::lts_20211102::base_internal::Callable::Invoke<void (*&)()>(void (*&)()) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x2919a) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #4 decltype(Invoker<void (*&)()>::type::Invoke(std::declval<void (*&)()>())) absl::lts_20211102::base_internal::invoke<void (*&)()>(void (*&)()) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x28f6d) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #5 void absl::lts_20211102::base_internal::CallOnceImpl<void (*&)()>(std::atomic<unsigned int>*, absl::lts_20211102::base_internal::SchedulingMode, void (*&)()) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x28cbf) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #6 void absl::lts_20211102::call_once<void (*&)()>(absl::lts_20211102::once_flag&, void (*&)()) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x27fd5) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #7 gpr_once_init <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x27de2) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #8 grpc_init <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc.so+0x6d03) (BuildId: 251fa19f5440fe83014aacd61e62729a3f6fab3b)
    #9 grpc::internal::GrpcLibrary::init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x3e251) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #10 grpc::GrpcLibraryCodegen::GrpcLibraryCodegen(bool) <null> (liblibmultipaxosrpc.so+0x39cde) (BuildId: 9657d1d16e745b0a8aefe12648c9f261991d6f7d)
    #11 grpc::ServerCredentials::ServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Ubase.so+0x1fc48e) (BuildId: cf0adb253b489ea28fe6a10ed2e4f694f89ce694)
    #12 grpc::(anonymous namespace)::InsecureServerCredentialsImpl::InsecureServerCredentialsImpl() insecure_server_credentials.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53aa9) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #13 grpc::InsecureServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53a03) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #14 MultiPaxos::MultiPaxos(Log*, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > > const&) <null> (multipaxos_test+0xe4feb) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #15 MultiPaxosTest_Constructor_Test::TestBody() <null> (multipaxos_test+0xead18) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #16 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x155a17) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #17 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x13101d) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #18 testing::Test::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x1082a8) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #19 testing::TestInfo::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x109372) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #20 testing::TestSuite::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x10a037) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #21 testing::internal::UnitTestImpl::RunAllTests() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122fd2) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #22 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x15afa7) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #23 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x134e33) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #24 testing::UnitTest::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122810) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #25 RUN_ALL_TESTS() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd77) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)
    #26 main <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd14) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)

  Thread T1 'default-executo' (tid=19, running) created by main thread at:
    #0 pthread_create <null> (multipaxos_test+0x6609d) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #1 grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&) thd_posix.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x414e4) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #2 grpc_core::Thread::Thread(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgpr_Ubase.so+0x40e12) (BuildId: 691083f1cdeabee8a2f1e39b46167057344fe84e)
    #3 grpc_core::Executor::SetThreading(bool) <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x83cc) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #4 grpc_core::Executor::Init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x7eda) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #5 grpc_core::Executor::InitAll() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibexec_Uctx.so+0x9eee) (BuildId: 058f23318cc2f6e3ef5b6d326e1fd0d66db7f39d)
    #6 grpc_iomgr_init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc_Ubase.so+0x2dc7c4) (BuildId: 04a88a227ff57628cc3af291c637db0f1ccef13a)
    #7 grpc_init <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc.so+0x6df2) (BuildId: 251fa19f5440fe83014aacd61e62729a3f6fab3b)
    #8 grpc::internal::GrpcLibrary::init() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x3e251) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #9 grpc::GrpcLibraryCodegen::GrpcLibraryCodegen(bool) <null> (liblibmultipaxosrpc.so+0x39cde) (BuildId: 9657d1d16e745b0a8aefe12648c9f261991d6f7d)
    #10 grpc::ServerCredentials::ServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Ubase.so+0x1fc48e) (BuildId: cf0adb253b489ea28fe6a10ed2e4f694f89ce694)
    #11 grpc::(anonymous namespace)::InsecureServerCredentialsImpl::InsecureServerCredentialsImpl() insecure_server_credentials.cc (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53aa9) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #12 grpc::InsecureServerCredentials() <null> (libexternal_Scom_Ugithub_Ugrpc_Ugrpc_Slibgrpc++_Uinternals.so+0x53a03) (BuildId: 2755695beb2ea7da1ca12b453172bd5ecd91bad4)
    #13 MultiPaxos::MultiPaxos(Log*, nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > > const&) <null> (multipaxos_test+0xe4feb) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #14 MultiPaxosTest_Constructor_Test::TestBody() <null> (multipaxos_test+0xead18) (BuildId: eb0591038f8e8a6f95f1dea1ab97837e25f9f41b)
    #15 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x155a17) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #16 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x13101d) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #17 testing::Test::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x1082a8) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #18 testing::TestInfo::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x109372) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #19 testing::TestSuite::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x10a037) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #20 testing::internal::UnitTestImpl::RunAllTests() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122fd2) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #21 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x15afa7) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #22 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x134e33) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #23 testing::UnitTest::Run() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest.so+0x122810) (BuildId: be998d9723bf6ea01f5916ceff19f04d4aa4b1cc)
    #24 RUN_ALL_TESTS() <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd77) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)
    #25 main <null> (libexternal_Scom_Ugoogle_Ugoogletest_Slibgtest_Umain.so+0xd14) (BuildId: 6c6258d6174d9aec0c3027a12b69e7ac54ab2588)

SUMMARY: ThreadSanitizer: data race (/home/vjabrayilov/.cache/bazel/_bazel_vjabrayilov/047988c64441a43d472831d68a73bd53/execroot/__main__/bazel-out/k8-fastbuild/bin/_solib_k8/libexternal_Scom_Ugoogle_Uabsl_Sabsl_Ssynchronization_Slibsynchronization.so+0xd66d) (BuildId: ae4c17ad24492a39b99138658667900fb4d3997b) in absl::lts_20211102::synchronization_internal::Waiter::Post()
==================
[       OK ] MultiPaxosTest.Constructor (724 ms)
[ RUN      ] MultiPaxosTest.NextBallot
[       OK ] MultiPaxosTest.NextBallot (26 ms)
[----------] 2 tests from MultiPaxosTest (750 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (751 ms total)
[  PASSED  ] 2 tests.
ThreadSanitizer: reported 2 warnings
================================================================================
//:multipaxos_test                                                       FAILED in 1.3s
  /home/vjabrayilov/.cache/bazel/_bazel_vjabrayilov/047988c64441a43d472831d68a73bd53/execroot/__main__/bazel-out/k8-fastbuild/testlogs/multipaxos_test/test.log

Executed 1 out of 1 test: 1 fails locally.
